{% extends "base.html" %}
{% block content %}

<h3 class="light-green-text text-darken-4 center-align">Edit Task</h3>

<div class="row card-panel grey lighten-5">
  <form class="col s12" method="POST" action="{{ url_for('edit_task', task_id=task.id)}}">
    <!-- task_name -->
    <div class="row">
      <div class="input-field col s12">
        <!-- prefix on icon puts it before the box -->
        <i class="fas fa-pencil-alt prefix light-green-text text-darken-4"></i>
        <!-- id, name and label for below all have same name -->
        <input id="task_name" name="task_name" minlength="5" maxlength="50" type="text" class="validate" required>
        <label for="task_name">Task Name</label>
      </div>
    </div>

    <!-- task_description-->
    <div class="row">
      <div class="input-field col s12">      
        <i class="fas fa-align-left prefix light-green-text text-darken-4"></i>        
        <!-- use textarea as will be a longer string -->
        <textarea id="task_description" name="task_description" minlength="5" maxlength="250" type="text"
          class="materialize-textarea validate" required></textarea>
        <label for="task_description">Task Description</label>
      </div>
    </div>

    <!-- due_date -->
    <div class="row">
      <div class="input-field col s12">        
        <i class="fas fa-pencil-alt prefix light-green-text text-darken-4"></i>       
        <input id="due_date" name="due_date" type="text" class="datepicker validate" required>
        <label for="due_date">Due Date</label>
      </div>
    </div>

    <!--is_urgent -->
    <!-- use doc for switches page in materialise -->
    <div class="row">
      <div class="input-field col s12">
        <div class="switch">
          <i class="fas fa-exclamation-circle prefix light-green-text text-darken-4"></i>
          <label for="is_urgent">
            <input id="is_urgent" name="is_urgent" type="checkbox">
            <span class="lever"></span>
            Is Urgent
          </label>
        </div>
      </div>
    </div>

    <!-- category_id -->
    <!-- comes from select part of materialize forms -->
    <div class="row">
      <div class="input-field col s12">      
        <i class="fas fa-folder-open prefix light-green-text text-darken-4"></i>        
        <select id="category_id" name="category_id" class="validate" required>
          <option value="" disabled selected>Choose Category</option>
          <!-- for loop to list all the categories that are retireved from the database -->
          {% for category in categories %}
            <!-- with select elements the value is what is grabbed to store the data (not name like normal) -->
            <option value="{{ category.id }}">{{ category.category_name }}</option>
          {% endfor %}
        </select>
        <label for="category_id">Category</label>
      </div>
    </div>

    <!-- submit button -->
    <div class="row">
      <div class="col s12 center-align">
        <button class="btn-large pink darken-1" type="submit">Edit Task <i class="fas fa-pencil-alt"></i></button>
      </div>
    </div>
  </form>
</div>


{% endblock %}